[2025-09-05 22:55:37] Debug logging started
[2025-09-05 22:55:37] Configuration loaded
[2025-09-05 22:55:37] Debug logging enabled
[2025-09-05 22:55:37] GPU rendering enabled
[2025-09-05 22:55:37] Hardware ID: dd3c616276296b9fca610de827f083ecadf5e3e57d9e73c873282bd2e4138a31
[2025-09-05 22:55:37] App version: 0.10
[2025-09-05 22:55:37] Setting up system tray
[2025-09-05 22:55:37] System tray icon created
[2025-09-05 22:55:37] Testing connection to web server
[2025-09-05 22:55:37] Web server connection successful: {"status": "ok", "user_name": "i7-9700K", "user_id": 1, "server_time": "2025-09-05T19:55:37.956766+00:00", "accepted_version": "0.10"}
[2025-09-05 22:55:38] Storage box connection successful.
[2025-09-05 22:55:38] Map tile cache syncing is disabled in config. Skipping sync.
[2025-09-05 22:55:38] Checking drive space...
[2025-09-05 22:55:38] Storage box credentials set for background tile syncing
[2025-09-05 22:55:38] Bootup completed successfully
[2025-09-05 22:55:39] CPU threads set to: 8
[2025-09-05 22:55:43] Starting test video job 1/1: test videos\WhyIsItRedtest
[2025-09-05 22:55:43] === on_job_received called ===
[2025-09-05 22:55:43] Processing job #320 (type: video)
[2025-09-05 22:55:43] Creating video generator worker...
[2025-09-05 22:55:43] Connecting worker signals...
[2025-09-05 22:55:43] Starting worker thread...
[2025-09-05 22:55:43] Worker thread started successfully
[2025-09-05 22:55:43] === on_job_received completed successfully ===
[2025-09-05 22:55:43] Video generation triggered.
[2025-09-05 22:55:43] Step 1: Sorting GPX files chronologically
[2025-09-05 22:55:43] Sorting 7 GPX files chronologically...
[2025-09-05 22:55:43] Found timestamp in 2021-05-16.gpx: 2021-05-16 10:28:27
[2025-09-05 22:55:43] Found timestamp in 2021-06-10.gpx: 2021-06-10 13:25:14
[2025-09-05 22:55:43] Found timestamp in 2022-06-26.gpx: 2022-06-26 17:24:08
[2025-09-05 22:55:43] Found timestamp in 2023-06-02.gpx: 2023-06-02 19:40:06
[2025-09-05 22:55:43] Found timestamp in 2020-06-13_3.gpx: 2020-06-13 14:30:06
[2025-09-05 22:55:43] Found timestamp in 2020-06-26.gpx: 2020-06-26 14:11:32
[2025-09-05 22:55:43] Found timestamp in 2021-05-14.gpx: 2021-05-14 09:00:48
[2025-09-05 22:55:43] Chronological sorting completed:
[2025-09-05 22:55:43] Oldest route: 2020-06-13_3.gpx (2020-06-13 14:30:06)
[2025-09-05 22:55:43] Newest route: 2023-06-02.gpx (2023-06-02 19:40:06)
[2025-09-05 22:55:43] Total files sorted: 7
[2025-09-05 22:55:43] Chronological sorting completed with 7 files
[2025-09-05 22:55:43] Step 2: Creating combined route
[2025-09-05 22:55:43] Creating combined routes from sorted GPX files...
[2025-09-05 22:55:43] Single route mode: All track names are empty
[2025-09-05 22:55:43] Creating single combined route...
[2025-09-05 22:55:43] Grouped files by track: 0 named tracks, 7 unnamed files
[2025-09-05 22:55:43] Processing 7 unnamed files
[2025-09-05 22:55:43] Creating route 0 for track 'Unnamed' with 7 files
[2025-09-05 22:55:43]   Processing 2020-06-13_3.gpx, accumulated distance: 0.00 meters, accumulated time: 0.0 seconds
[2025-09-05 22:55:43]   Processing 2020-06-26.gpx, accumulated distance: 38393.79 meters, accumulated time: 11764.0 seconds
[2025-09-05 22:55:43]   Processing 2021-05-14.gpx, accumulated distance: 50456.41 meters, accumulated time: 14871.0 seconds
[2025-09-05 22:55:43]   Processing 2021-05-16.gpx, accumulated distance: 92825.40 meters, accumulated time: 33460.0 seconds
[2025-09-05 22:55:44]   Processing 2021-06-10.gpx, accumulated distance: 149756.11 meters, accumulated time: 52400.0 seconds
[2025-09-05 22:55:44]   Processing 2022-06-26.gpx, accumulated distance: 200474.65 meters, accumulated time: 67965.0 seconds
[2025-09-05 22:55:44]   Processing 2023-06-02.gpx, accumulated distance: 206652.30 meters, accumulated time: 69475.0 seconds
[2025-09-05 22:55:44]   Completed track 'Unnamed'. Total points: 24242
[2025-09-05 22:55:44]   Total distance: 226379.64 meters (226.38 km)
[2025-09-05 22:55:44]   Total time: 77316.0 seconds (1288.6 minutes)
[2025-09-05 22:55:44]   Calculated dynamic pruning interval for track 'Unnamed': ~1 point/frame â†’ raw=128.86s (gpx_time_per_video_time/video_fps), reduced by 20% â†’ 103.09s, interval=103s
[2025-09-05 22:55:44]   Starting route pruning for track 'Unnamed': 24,242 points, interval: 103 seconds
[2025-09-05 22:55:44]   Interpolation interval for track 'Unnamed' (for later use): 257.72s
[2025-09-05 22:55:44] Pruning route by 103 second intervals...
[2025-09-05 22:55:44] Original route has 24242 points
[2025-09-05 22:55:44] Pruning complete
[2025-09-05 22:55:44] Interpolation complete: 553 â†’ 617 points
[2025-09-05 22:55:44] Single route mode: Using sequential time accumulation: 77073.0s
[2025-09-05 22:55:44] Created 1 routes:
[2025-09-05 22:55:44]   Route 0: 'Unnamed' - 617 points, 199366.84m
[2025-09-05 22:55:44] Total across all routes: 617 points, 199366.84m
[2025-09-05 22:55:44] Wrote debug_tuple.txt successfully to temporary files\route\debug_tuple.txt
[2025-09-05 22:55:44] Combined route created successfully:
[2025-09-05 22:55:44]   - Total points: 617
[2025-09-05 22:55:44]   - Total distance: 199.37 km
[2025-09-05 22:55:44]   - Files processed: 7
[2025-09-05 22:55:44] Step 3: Calculating unique bounding boxes and caching map tiles
[2025-09-05 22:55:44] Starting map tile caching
[2025-09-05 22:55:44] Calculating unique bounding boxes for 600 frames
[2025-09-05 22:55:44] Using 'final' zoom mode - calculating single bounding box for entire route
[2025-09-05 22:55:44] Saved final bounding box to temporary files\route\final_bounding_box.pkl
[2025-09-05 22:55:44] Final zoom mode: calculated single bounding box (24.311544, 25.474153, 60.108508, 60.432812) from 1 route
[2025-09-05 22:55:44] Found 1 unique bounding boxes
[2025-09-05 22:55:44] Starting tile pre-caching for video generation
[2025-09-05 22:55:44] Using cache directory: X:\softa\code\Projects\Route squiggler render client\map tile cache\OSM
[2025-09-05 22:55:44] Processing 1 unique bounding boxes
[2025-09-05 22:55:44] Phase 1: Gathering all required tiles...
[2025-09-05 22:55:44] Found 35 unique tiles required across all bounding boxes
[2025-09-05 22:55:44] Phase 2: Checking which tiles are already cached...
[2025-09-05 22:55:44] Tile analysis complete: 35 already cached, 0 need downloading
[2025-09-05 22:55:44] All tiles are already cached! No downloads needed.
[2025-09-05 22:55:44] Starting render timer - beginning map image caching and video generation
[2025-09-05 22:55:45] Step 4: Caching map images for unique bounding boxes
[2025-09-05 22:55:45] Starting map image caching
[2025-09-05 22:55:45] Calculating unique bounding boxes for 600 frames
[2025-09-05 22:55:46] Using 'final' zoom mode - calculating single bounding box for entire route
[2025-09-05 22:55:46] Saved final bounding box to temporary files\route\final_bounding_box.pkl
[2025-09-05 22:55:46] Final zoom mode: calculated single bounding box (24.311544, 25.474153, 60.108508, 60.432812) from 1 route
[2025-09-05 22:55:46] Found 1 unique bounding boxes
[2025-09-05 22:55:46] Starting map image caching for video generation
[2025-09-05 22:55:46] Processing 1 unique bounding boxes for map images
[2025-09-05 22:55:46] Using 1 worker processes for map image generation
[2025-09-05 22:55:47] Using single-threaded execution
[2025-09-05 22:55:47] Map image caching complete: 1 successful, 0 failed, 1 total
[2025-09-05 22:55:47] Map image caching completed:
[2025-09-05 22:55:47]   - Images created: 1
[2025-09-05 22:55:47]   - Images failed: 0
[2025-09-05 22:55:47]   - Total bounding boxes: 1
[2025-09-05 22:55:47] Step 5: Generating video frames
[2025-09-05 22:55:47] Starting video generation
[2025-09-05 22:55:47] Route time per frame: 128.4550 seconds
[2025-09-05 22:55:47] Starting video frame generation with streaming approach...
[2025-09-05 22:55:47] Starting streaming video creation
[2025-09-05 22:55:47] SEQUENTIAL MODE: Creating video: 20.0s route + 2s tail + 3.0s cloned = 25.0s total
[2025-09-05 22:55:47] Frame breakdown: 600 route + 60 tail + 90 cloned = 750 total frames
[2025-09-05 22:55:47] Output video will be saved to: temporary files\test jobs\route_video_20250905_225547.mp4
[2025-09-05 22:55:47] Test job mode: Video will be saved in test jobs directory
[2025-09-05 22:55:51] Starting video encoding
[2025-09-05 22:55:51] Using GPU rendering (NVIDIA NVENC)
[2025-09-05 22:56:22] Streaming video creation complete: temporary files\test jobs\route_video_20250905_225547.mp4
[2025-09-05 22:56:22] MoviePy and FFmpeg processes cleaned up
[2025-09-05 22:56:22] SEQUENTIAL MODE: Video creation completed: 660 frames generated + 90 frames cloned = 750 total frames
[2025-09-05 22:56:22] Video frame generation completed:
[2025-09-05 22:56:22]   - Frames created: 660
[2025-09-05 22:56:22]   - Frames failed: 0
[2025-09-05 22:56:22]   - Total frames: 750
[2025-09-05 22:56:22]   - Video file: temporary files\test jobs\route_video_20250905_225547.mp4
[2025-09-05 22:56:22] ðŸŽ¬ Total rendering time: 37.52 seconds
[2025-09-05 22:56:22] Test job completed - skipping upload
[2025-09-05 22:56:22] Video generation completed successfully
[2025-09-05 22:56:22] Matplotlib and Qt resources cleaned up
[2025-09-05 22:56:22] Force-killed any remaining FFmpeg processes
[2025-09-05 22:56:22] MoviePy and FFmpeg processes cleaned up
[2025-09-05 22:56:22] Matplotlib and Qt resources cleaned up
[2025-09-05 22:56:22] Force-killed any remaining FFmpeg processes
[2025-09-05 22:56:22] MoviePy and FFmpeg processes cleaned up
[2025-09-05 22:56:22] Forced Qt resource cleanup completed
[2025-09-05 22:56:22] All test video jobs completed.
